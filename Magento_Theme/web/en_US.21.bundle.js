(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{383:function(e,t,r){"use strict";var i=r(23),n=r.n(i),a=r(5),d=r.n(a),s=r(6),o=r.n(s),u=r(9),l=function(){function e(){d()(this,e)}return o()(e,[{key:"getOrderListQuery",value:function(){return new u.a("getOrderList").addFieldList(this._getOrderListFields(!0))}},{key:"getOrderByIdQuery",value:function(e){return this._getOrderByIdField(e)}},{key:"_getOrderListFields",value:function(e){return[this._getOrderItemsField(e)]}},{key:"_getOrderByIdField",value:function(e){return new u.a("getOrderById").addArgument("id","Int!",e).addFieldList(this._getOrderItemsFields())}},{key:"_getOrderProductsField",value:function(){return new u.a("order_products").addFieldList(this._getOrderProductsFields())}},{key:"_getOrderProductsFields",value:function(){return[].concat(n()(this._getDefaultFields()),n()(this._prepareImageFields()),[this._prepareAttributes()])}},{key:"_prepareImageFields",value:function(){return[new u.a("thumbnail").addFieldList(this._prepareThumbnailFields()),new u.a("small_image").addFieldList(this._prepareSmallImageFields())]}},{key:"_prepareSmallImageFields",value:function(){return["url","label","path"]}},{key:"_prepareThumbnailFields",value:function(){return["url","label","path"]}},{key:"_prepareAttributes",value:function(){return new u.a("attributes").addFieldList(this._prepareAttributesFields())}},{key:"_prepareAttributesFields",value:function(){return["attribute_value","attribute_code","attribute_type","attribute_label",this._getAttributeOptions()]}},{key:"_getAttributeOptions",value:function(){return new u.a("attribute_options").addFieldList(this._getAttributeOptionsFields())}},{key:"_getAttributeOptionsFields",value:function(){return["label","value",new u.a("swatch_data").addField("value")]}},{key:"_getDefaultFields",value:function(){return["id","name",new u.a("short_description").addField("html"),"sku","qty","row_total","original_price","license_key"]}},{key:"_prepareShippingInfo",value:function(){return new u.a("shipping_info").addFieldList(this._prepareShippingInfoFields())}},{key:"_prepareShippingInfoFields",value:function(){return["shipping_method","shipping_description","shipping_amount","tracking_numbers",this._prepareOrderCustomerAddressInfo()]}},{key:"_prepareOrderCustomerAddressInfo",value:function(){return new u.a("shipping_address").addFieldList(this._prepareOrderCustomerAddressInfoFields())}},{key:"_prepareOrderCustomerAddressInfoFields",value:function(){return["city","company","firstname","lastname","middlename","telephone","district","house_number","apartment_number","postomat_code","store_pickup_code","post_office_code","postcode","street","is_b2b","region","organizationname","organizationbin","organizationaddress","organizationiic","organizationbik"]}},{key:"_getBaseOrderInfoField",value:function(e){return new u.a("base_order_info").addFieldList(this._getBaseOrderInfoFields(e))}},{key:"_getBaseOrderInfoFields",value:function(e){return["id","increment_id","created_at","status_label","grand_total"].concat(n()(e?[]:["sub_total"]))}},{key:"_getPaymentInfoField",value:function(){return new u.a("payment_info").addFieldList(this._getPaymentInfoFields())}},{key:"_getPaymentInfoFields",value:function(){return["method",this._getAdditionalInformationField()]}},{key:"_getAdditionalInformationField",value:function(){return new u.a("additional_information").addFieldList(this._getAdditionalInformationFields())}},{key:"_getAdditionalInformationFields",value:function(){return["bank","method_title","credit_type","month",this._getCustomerInfoField()]}},{key:"_getCustomerInfoField",value:function(){return new u.a("customer_info").addFieldList(this._getCustomerInfoFields())}},{key:"_getCustomerInfoFields",value:function(){return["first_name","last_name","phone"]}},{key:"_getOrderItemsField",value:function(e){return new u.a("items").addFieldList(this._getOrderItemsFields(e))}},{key:"_getOrderItemsFields",value:function(e){return[this._getBaseOrderInfoField(e)].concat(n()(e?[]:[this._getPaymentInfoField(),this._prepareShippingInfo(),this._getOrderProductsField()]))}}]),e}();t.a=new l},445:function(e,t,r){"use strict";r.r(t),r.d(t,"OrderDispatcher",(function(){return u}));var i=r(5),n=r.n(i),a=r(6),d=r.n(a),s=r(383),o=(r(26),r(134)),u=(r(28),function(){function e(){n()(this,e)}return d()(e,[{key:"requestOrders",value:function(e){s.a.getOrderListQuery();var t=JSON.parse(localStorage.getItem("auth_token")),r="";t.data&&(r=t.data);var i=new Headers;i.append("Authorization","Bearer ".concat(r)),i.append("Content-Type","application/json");var n={method:"POST",headers:i,body:JSON.stringify({query:'query  {customerPlacedOrder(customer_token: "'.concat(r,'") { items{  id, increment_id, created_at, status_label, grand_total,created_at,delivery_date } } }')})};return fetch("".concat(window.location.origin,"/graphql"),n).then((function(e){return e.text()})).then((function(t){var r=JSON.parse(t).data.customerPlacedOrder;if(r.items){var i={items:r.items.map((function(e){return{base_order_info:e}}))};e(Object(o.b)(i,!1))}else e(Object(o.b)([],!1))})).catch((function(e){return console.log("error",e)}))}}]),e}());t.default=new u}}]);